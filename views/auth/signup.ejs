<%- include('../parts/head') ,{variant: 'compact' }%>
    <style>
    .signup-form {
        max-width: 400px;
        margin: 0 auto;
        padding: 40px;
    }

    .signup-form h4 {
        text-align: center;
        margin-bottom: 30px;
    }
    .animated-button {
    opacity: 1;
    transition: all 0.3s ease-in-out;
    transform: scale(1);
    }

    .animated-button:hover {
    opacity: 0.8;
    transform: scale(1.1);
    }
    .password-input {
      position: relative;
    }

    .password-toggle {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      opacity: 1;

    }

    </style>

</head>
<body>
<%- include('../parts/nav') %>

    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="signup-form">
            <h4>Create an Account</h4>
            <form action="#" method="POST" >
              <div class="form-group">
                <input type="text" class="form-control" id="name" name="name" placeholder="Full Name" required>
              </div>
              <div class="form-group">
                <input type="email" class="form-control my-4" id="email" name="email" placeholder='E-Mail' required>
              </div>
              <div class="form-group">
                <div class="password-input">
                  <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
                  <span class="password-toggle" id="togglePassword">
                    <i class="far fa-eye"></i>
                  </span>
                </div>
              </div>
              <div class="form-group">
                <div class="password-input">
                  <input type="password" class="form-control my-4" id="confirm_password" name="confirmPassword" placeholder="Confirm Password" required>
                  <span class="password-toggle" id="toggleConfirmPassword">
                    <i class="far fa-eye"></i>
                  </span>
                </div>
              </div>
  
              <div class="form-group my-3">
                <button type="submit" class="btn btn-primary btn-block animated-button">Sign Up</button>
              </div>
              <div class="text-center">
                <p>Already have an account? <a href="/login">Sign In</a></p>
              </div>
            </form>
            <%if(authError){ %>
              <p class="alert alert-danger">
                <%=authError%>
              </p>
            <% } %>
            <% for(let error of validationErrors){%>
              
              <p class="alert alert-danger">
                <%=error.msg%>
              </p>
              
            <%}%>
          </div>
        </div>
      </div>
    </div>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
  <script>
    const togglePassword = document.getElementById('togglePassword');
    const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
    const passwordInput = document.getElementById('password');
    const confirmPasswordInput = document.getElementById('confirm_password');

    function togglePasswordVisibility() {
      const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
      passwordInput.setAttribute('type', type);

      const confirmType = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
      confirmPasswordInput.setAttribute('type', confirmType);

      const icon = document.querySelectorAll('.password-toggle i');
      icon.forEach((i) => {
        i.classList.toggle('fa-eye');
        i.classList.toggle('fa-eye-slash');
      });
    }
    togglePassword.addEventListener('click', togglePasswordVisibility);
    toggleConfirmPassword.addEventListener('click', togglePasswordVisibility);
  </script>

<%- include('../parts/footer') %>